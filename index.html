<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <title>Library</title>
    <style>
      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.6)),
          url("library.jpg") no-repeat center center/cover;
        z-index: -1;
      }
      .book-img {
        height: 300px;
        object-fit: cover;
      }
      .book-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-between;
        padding: 15px;
        border: 1px solid #ffffff;
      }
      .book-card p {
        flex-grow: 1;
        text-align: center;
      }
      .container {
        position: relative;
        text-align: center;
        padding: 50px;
        color: rgb(0, 0, 0);
      }
      .alert {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 800%;
        width: 40%;
        margin: 0 auto;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 1 4px 8px rgba(0, 0, 0, 0.4);
        font-size: 20px;
        color: rgb(0, 0, 0);
        text-align: center;
        font-size: 30px;
        font-weight: bold;
      }
      .btn-success {
        width: 100%;
      }
      .content {
        flex: 1 0 auto;
      }
      footer {
        flex-shrink: 0;
        background-color: #ffffff;
        padding: 1rem;
        text-align: center;
      }
      .bg-image {
        background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
          url("bg1.png") no-repeat center center/cover;
        background-size: cover;
        width: 100%;
        height: 100vh;
        position: relative;
      }
      .bg-image2 {
        /* background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
          url("https://i.pinimg.com/originals/e2/9e/1a/e29e1a7bcce0269e79cc7430d7736ee0.gif")
            no-repeat center center/cover; */
        background-size: cover;
        background-color: transparent;
        width: 100%;
        height: 100vh;
        position: relative;
      }

      .content-overlay {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #fff;
        text-align: center;
      }
      .content-overlay2 {
        position: absolute;
        top: 50%;
        left: 5%;
        transform: translateY(-50%);
        display: flex;
        align-items: flex-start;
        width: 70%;
        color: white;
      }

      .content-overlay h1 {
        font-size: 3rem;
        margin-bottom: 1rem;
        text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.7);
      }
      .content-overlay p {
        font-size: 1.2rem;
        line-height: 1.5;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
      }
      nav {
        background-color: rgb(255, 255, 255, 0.1);
      }
      .navbar .nav-link {
        font-size: 1.2rem;
        color: #fff;
      }
      .navbar {
        backdrop-filter: blur(10px);
      }
      /* คอลัมน์สำหรับรูปภาพ */
      .left-img {
        flex: 0 0 40%;
      }
      .left-img img {
        width: 100%;
        border-radius: 10px;
      }

      .right-text {
        flex: 1;
        padding-left: 20px;
        font-size: 20px;
      }
      .right-text h1 {
        margin-bottom: 1rem;
      }
      .right-text p {
        margin-bottom: 0.5rem;
        line-height: 1.5;
      }
    </style>
  </head>

  <body>
    <nav class="navbar navbar-expand-lg">
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mx-auto ulnav">
          <li class="nav-item active">
            <a class="nav-link" href="index.html">หน้าแรก</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="order.html">ยืมหนังสือ</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="manage-books.html">จัดการหนังสือ</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="listOrder.html">รายการยืม</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="contact.html">ติดต่อ</a>
          </li>
        </ul>
      </div>
    </nav>

    <div class="bg-image">
      <div class="content-overlay">
        <h1>ยินดีต้อนรับสู่ 680 &amp; 282 Library</h1>
        <p>ห้องสมุดที่เต็มไปด้วยหนังสือเล่มใหม่</p>
      </div>
    </div>

    <!-- แมว -->
    <div class="bg-image2">
      <div class="content-overlay2">
        <div class="left-img">
          <img
            src="https://i.pinimg.com/originals/95/2f/8b/952f8be3b42ef3a2cedd645794ecda79.gif"
            alt="Library Image"
          />
        </div>
        <div class="right-text">
          <h1>วัตถุประสงค์ของระบบ</h1>
          <p>
            จัดทำระบบเพื่อช่วยให้บรรณารักษ์ในห้องสมุดสามารถจัดการหนังสือได้อย่างมีประสิทธิภาพมากขึ้น
            โดยมีฟังก์ชันหลักดังนี้
          </p>
          <p>ระบบเพิ่มหนังสือ ลบหนังสือ และแก้ไขข้อมูลหนังสือ</p>
          <p>ระบบยืมคืนหนังสือเพื่อให้การบริหารจัดการเป็นไปอย่างเป็นระเบียบ</p>
          <p>ระบบล็อกอินสำหรับบรรณารักษ์เพื่อความปลอดภัยในการเข้าถึงข้อมูล</p>
          <p>
            ระบบนี้จะช่วยให้การดำเนินงานในห้องสมุดสะดวก
            รวดเร็วและมีประสิทธิภาพมากยิ่งขึ้น
          </p>
        </div>
      </div>
    </div>

    <div class="container mt-1 text-center">
      <div class="alert alert-light" role="alert">หนังสือที่พร้อมให้บริการ</div>
    </div>

    <div class="container justify-content-center mt-1">
      <div class="row row-cols-1 row-cols-md-3" id="bookList"></div>
    </div>

    <footer
      class="text-center text-lg-start text-white"
      style="background-color: #1c2331"
    >
      <section class="d-flex justify-content-between p-4">
        <div>
          <a href="" class="text-white me-4"
            ><i class="fab fa-facebook-f"></i
          ></a>
          <a href="" class="text-white me-4"><i class="fab fa-twitter"></i></a>
          <a href="" class="text-white me-4"><i class="fab fa-google"></i></a>
          <a href="" class="text-white me-4"
            ><i class="fab fa-instagram"></i
          ></a>
          <a href="" class="text-white me-4"><i class="fab fa-linkedin"></i></a>
          <a href="" class="text-white me-4"><i class="fab fa-github"></i></a>
        </div>
      </section>

      <section class="">
        <div class="container text-center text-md-start mt-5 text-white">
          <div class="row mt-3">
            <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
              <h6 class="text-uppercase fw-bold">Company name</h6>
              <hr
                class="mb-4 mt-0 d-inline-block mx-auto"
                style="width: 60px; background-color: #7c4dff; height: 2px"
              />
              <p>
                Here you can use rows and columns to organize your footer
                content. Lorem ipsum dolor sit amet.
              </p>
            </div>

            <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
              <h6 class="text-uppercase fw-bold">Products</h6>
              <hr
                class="mb-4 mt-0 d-inline-block mx-auto"
                style="width: 60px; background-color: #7c4dff; height: 2px"
              />
              <p><a href="#!" class="text-white">MDBootstrap</a></p>
              <p><a href="#!" class="text-white">MDWordPress</a></p>
              <p><a href="#!" class="text-white">BrandFlow</a></p>
              <p><a href="#!" class="text-white">Bootstrap Angular</a></p>
            </div>

            <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
              <h6 class="text-uppercase fw-bold">Useful links</h6>
              <hr
                class="mb-4 mt-0 d-inline-block mx-auto"
                style="width: 60px; background-color: #7c4dff; height: 2px"
              />
              <p><a href="#!" class="text-white">Your Account</a></p>
              <p><a href="#!" class="text-white">Become an Affiliate</a></p>
              <p><a href="#!" class="text-white">Shipping Rates</a></p>
              <p><a href="#!" class="text-white">Help</a></p>
            </div>

            <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
              <h6 class="text-uppercase fw-bold">Contact</h6>
              <hr
                class="mb-4 mt-0 d-inline-block mx-auto"
                style="width: 60px; background-color: #7c4dff; height: 2px"
              />
              <p><i class="fas fa-home mr-3"></i> New York, NY 10012, US</p>
              <p><i class="fas fa-envelope mr-3"></i> info@example.com</p>
              <p><i class="fas fa-phone mr-3"></i> + 01 234 567 88</p>
              <p><i class="fas fa-print mr-3"></i> + 01 234 567 89</p>
            </div>
          </div>
        </div>
      </section>
    </footer>
    <script>
      // เรียก API
      fetch("http://localhost:3000/book/image")
        .then((response) => response.json())
        .then((data) => {
          const bookListElement = document.getElementById("bookList");
          // ตรวจสอบกรณีที่มี error จาก API
          if (data.error) {
            bookListElement.innerHTML = `<p class="text-danger text-center">${data.error}</p>`;
            return;
          }
          // วนลูป
          data.forEach((book) => {
            const bookCard = `
    <div class="col mb-4">
      <div class="card h-100">
        ${
          book.image
            ? `<img src="${book.image}" class="card-img-top book-img" alt="${book.title}" style="height:500px; object-fit:cover;" />`
            : `<div class="card-img-top bg-secondary text-white d-flex align-items-center justify-content-center" style="height:400px;">No Image</div>`
        }
        <div class="card-body d-flex justify-content-between align-items-center">
          <h5 class="card-title mb-0">${book.title}</h5>
          <button class="btn btn-primary" onclick="window.location.href='order.html'">ยืมหนังสือ</button>
        </div>
        <div class="card-body d-flex justify-content-left align-items-left text-sm">
          <p>${book.description}</p>
          </div>
      </div>
    </div>
  `;
            bookListElement.innerHTML += bookCard;
          });
        })
        .catch((error) => {
          console.error("Error loading books:", error);
          document.getElementById("bookList").innerHTML =
            '<p class="text-danger text-center">เกิดข้อผิดพลาดในการโหลดข้อมูลหนังสือ</p>';
        });
    </script>
  </body>
</html>
